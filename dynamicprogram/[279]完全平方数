// ç»™å®šæ­£æ•´æ•° nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ 1, 4, 9, 16, ...ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚
//
// ç¤ºä¾‹ 1:
//
// è¾“å…¥: n = 12
// è¾“å‡º: 3
// è§£é‡Š: 12 = 4 + 4 + 4.
//
// ç¤ºä¾‹ 2:
//
// è¾“å…¥: n = 13
// è¾“å‡º: 2
// è§£é‡Š: 13 = 4 + 9.
// Related Topics å¹¿åº¦ä¼˜å…ˆæœç´¢ æ•°å­¦ åŠ¨æ€è§„åˆ’
// ğŸ‘ 712 ğŸ‘ 0

import java.util.ArrayList;
import java.util.List;

// leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int numSquares(int n) {
        if (n <= 2) {
            return n;
        }
        // æœ€ç®€æ˜“çš„èƒŒåŒ…é—®é¢˜
        // å®¹é‡ä¸ºn ,æ¯ä¸ªç‰©ä½“çš„ä½“ç§¯ä¾æ¬¡ä¸º1ï¼Œ4ï¼Œ9 æ±‚æœ€å°‘å¯ä»¥ä½¿ç”¨å‡ ä¸ªç‰©å“
        List<Integer> list = new ArrayList<>();
        for (int i = 1; i * i <= n; i++) {
            list.add(i * i);
        }
        int len = list.size();
        // dp[i][j] å°†ç‰©å“iæ”¾å…¥å®¹é‡ä¸ºjçš„èƒŒåŒ…éœ€è¦çš„æ•°é‡
        int[][] dp = new int[len][n + 1];
        int[] arr = new int[len];
        for (int i = 0; i < len; i++) {
            arr[i] = list.get(i);
        }
        for (int i = 1; i <= n; i++) {
            dp[0][i] = i;
        }
        for (int i = 1; i < len; i++) {
            for (int j = 1; j <= n; j++) {
                dp[i][j] = Integer.MAX_VALUE;
                if (j - arr[i] == 0) {
                    dp[i][j] = 1;
                } else {
                    int x = j / arr[i];
                    int y = j % arr[i];
                    dp[i][j] = Math.min(x + dp[i - 1][y], dp[i][j]);
                    dp[i][j] = Math.min(dp[i - 1][j], dp[i][j]);
                }
            }
        }
        return dp[len - 1][n];
    }
}
// leetcode submit region end(Prohibit modification and deletion)
